{% autoescape %}
{# Set up the global YUI config object #}
YUI_config = {
    base: '{{ asset(null) }}components/yui3/build/',
    comboBase: '{{ path('libbit_yui_combo') }}?',
    root: 'yui3/build/',

    combine  : true,
    {# Don't log any messages from these modules #}
    debug: false,

    lang: '{{ app.request.locale }}',

    {% if app.environment == 'dev' %}
        {# Show debug messages in the dev environment #}
        combine: false,
        filter: 'raw',
    {% endif %}

    groups: {
        {# Set up the configured module groups #}
        {% for group in groups %}
            {{ group.name }}: {
                base: '{{ asset(null) }}components/{{ group.root }}',
                root: '{{ group.root }}',

                {% if app.environment == 'dev' %}
                    {# Show debug messages in the dev environment #}
                    debug : true,
                    filter: 'debug',
                {% endif %}

                patterns: {
                    '{{ group.pattern }}': {
                        configFn: function(me) {
                            if (/-css/.test(me.name)) {
                                me.type = 'css';
                                me.path = me.path.replace(/\.js/, '.css');
                            }
                        }
                    }
                }
            },
        {% endfor %}

        gallery: {
            base: '{{ asset(null) }}components/yui3-gallery/build/',
            root: 'yui3-gallery/build/',

            patterns: {
                'gallery-': {},
                'lang/gallery-': {},
                'gallerycss-': { type: 'css' }
            }
        }
    }
}
{% endautoescape %}
