YUI.add("gallery-bt-viewer",function(e){var a="widthChange",c="bvi_",h={IMAGE:c+"image",BOTTON:c+"botton",EXPAND:c+"expand"},g='<span class="'+h.BOTTON+'"></span>',b=function(i){if(i.get("naturalWidth")>i.get("offsetWidth")){i.insert(g,"before");}},f=function(j){var k=j.currentTarget,i=k.next("."+h.IMAGE);k.toggleClass(h.EXPAND);i.toggleClass(h.EXPAND);this._uiDimensionsChange();},d=e.Base.create("btviewer",e.ScrollView,[e.Bottle.SyncScroll,e.zui.Attribute],{initializer:function(){try{this.setAttrs({flick:false,bounce:0});this.setAttrs(e.JSON.parse(this.get("contentBox").getData("cfg-scroll")));}catch(i){}this.set("syncScrollMethod",this._uiDimensionsChange);},destructor:function(){this.unplug(e.zui.RAScroll);this._bviEventHandlers.detach();delete this._bviEventHandlers;},renderUI:function(){var j=this.get("contentBox"),i=this.get("imageNode"),k=this;this.plug(e.zui.RAScroll);this.unplug(e.Plugin.ScrollViewScrollbars);if(!e.Bottle.Device.getTouchSupport()){this.plug(e.zui.ScrollHelper);}i.addClass(h.IMAGE);i.each(function(l){if(l.get("naturalWidth")){b(l);}else{l.once("load",function(m){b(m.target);k._uiDimensionsChange();});}});this._bviEventHandlers=new e.EventHandle([j.delegate("click",f,"."+h.BOTTON,this)]);e.once("btNative",this._nativeScroll,this);},_nativeScroll:function(){this._prevent={move:false,start:false,end:false};}},{ATTRS:{imageNode:{writeOnce:true,lazyAdd:false,setter:function(i){this._imageCSS=i;return this.get("contentBox").all(i);}}},HTML_PARSER:{imageNode:function(i){return i.getData("image-node")||"img";}}});e.namespace("Bottle").Viewer=d;},"@VERSION@",{requires:["gallery-bt-syncscroll","gallery-zui-rascroll","gallery-zui-attribute","gallery-zui-scrollhelper"]});